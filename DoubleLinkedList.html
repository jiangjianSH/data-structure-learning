<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Double LinkedList Javascript Implementation</title>
  </head>
  <body>
    <script type="text/javascript">
        function Node(element) {
          this.element = element;
          this.next = null;
          this.previous = null;
        }

        function LinkedList() {
          this.head = new Node('head');
          this.end = this.head;
          this.find = find;
          this.findPrevious = findPrevious;
          this.insert = insert;
          this.insertBefore = insertBefore;
          this.insertAfter = insertAfter;
          this.remove = remove;
          this.display = display;
        }

      function find(item) {
        var currentNode = this.head.next;
        while(currentNode != null && currentNode.element != item) {
          currentNode = currentNode.next;
        }
        return currentNode;
      }

      function findPrevious(item) {
        var currentNode = this.head.next;
        while(currentNode != null) {
          if(currentNode.next.element == item) {
            return currentNode;
          }
          currentNode = currentNode.next;
        }
        return currentNode;
      }

      function insert(newElement) {
        var newNode = new Node(newElement);
        newNode.previous = this.end;
        this.end.next = newNode;
        this.end = newNode;
      }

      function insertAfter(newElement, item) {
        var itemNode = this.find(item);
        if(itemNode == null) {
          this.insert(new Node(newElement));
        }
        var newNode = new Node(newElement);
        itemNode.next.previous = newNode;
        newNode.next = itemNode.next;
        newNode.previous = itemNode;
        itemNode.next = newNode;
      }

      function insertBefore(newElement, item) {
        var itemNode = this.find(item);
        if(itemNode == null) {
          this.insert(new Node(newElement));
        }
      }

      function display() {
        var currentNode = this.head.next;
        while(!(currentNode == null)) {
          console.log(currentNode.element) ;
          currentNode = currentNode.next;
        }
      }

      function remove(item) {
        var itemNode = this.find(item);
        if(itemNode) {
          itemNode.previous.next = itemNode.next;
          if(itemNode.next) {
            itemNode.next.previous = itemNode.previous;
          }
        }
      }
    </script>
  </body>
</html>
